<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>FHIR Application</title>

	<!--<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />-->
	
	<link rel="stylesheet" href="CSS/themes/EvolveWebApp.min.css" />
	<link rel="stylesheet" href="CSS/mystylesheet.css" />
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile.structure-1.3.2.min.css" /> 
	<link href="CSS/footable.core.css" rel="stylesheet" type="text/css" />
	<link href="CSS/footable.metro.css" rel="stylesheet" type="text/css" />
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
	
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
	<script src="js/footable.js" type="text/javascript"></script>

	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<script type="text/javascript" src="EventHandlers.js"></script>
	<script type="text/javascript" src="CarePlan.js"></script>
	<script type="text/javascript" src="DiagnosticReport.js"></script>
	<script type="text/javascript" src="UploadPatient.js"></script>
	<script type="text/javascript" src="UploadCarePlan.js"></script>
	<script type="text/javascript" src="PatientOverview.js"></script>
	<script type="text/javascript">
		$(function () {
			$('.footable').footable();
		});
	</script>
 
</head>

<body>

	<div data-role="page" data-theme="a">

		<header data-role="header" >
			<h1>FHIR Application</h1>
		</header><!-- /header -->
		
			<article data-role="content">
			
				<form id="loginForm">

							
					<label for="text-1">Search for:</label>
					<select id="searchFor">
					<option value="patient">Patient</option>
					<option value="practitioner">Practitioner</option>
					</select>
							
					<label for="text-1">Search by:</label>
					<!-- <input type="text" name="username" id="username" value=""> -->
					<select id="searchBy">
					<option value="_id">ID</option>
					<option value="name">Name</option>
					<!-- <option value="family">Surname</option> -->
					</select>
					
					<label for="text-1">Search value:</label>
					<input type="text" name="query" id="query" value="">
							
				</form>			

				<input id="loginButton" type="submit" value="Search">		
				
				<div style="height: 100%; text-align:center; ">
					<p>
						<a href="#UploadPatientPage" data-role="button" data-mini="true" data-inline="true" data-icon="grid" data-theme="b">Add Patient</a>
					</p>
				</div>
				
<!-- 				<a href="#UploadPatientPage">Upload Patient</a>
 --><!-- 				<div data-corners="true" data-shadow="true" data-iconshadow="true" data-wrapperels="span" data-theme="a" data-disabled="false" class="ui-submit ui-btn ui-shadow ui-btn-corner-all ui-btn-up-a" aria-disabled="false">
					<span class="ui-btn-inner"><span class="ui-btn-text">Upload Patient</span></span>
					<input id="UploadPatientPage" href="#UploadPatientPage" onclick="#UploadPatientPage" value="UploadPatient" class="ui-btn-hidden" data-disabled="false">
				</div> -->
				
				</br>
				<div data-role="popup" id="serverResponseDialog">
					<!-- <img src="CSS/themes/images/ajax-loader.gif"> -->
					<!-- <img src="images/loading.gif" width="1" height="1"> -->
					<img src="images/loading2_crop4.gif">
<!-- 					<p>Searching...<p> -->
				</div>					
					
			</article>
			
	</div><!-- /page -->
	
		<div data-role="page" data-theme="a" id="UploadPatientPage">

		<header data-role="header" >
			<h1>Upload Patient Details</h1>
		</header>
		
			<article data-role="content">
			
				<form id="patientUploadForm">				
					<label for="text-1">Forename:</label>
					<input type="text" name="forename" id="forename" value="">
					<label for="text-1">Surname:</label>
					<input type="text" name="surname" id="surname" value="">
					<label for="text-2">Gender:</label>			
					<select id="gender">
					<option value="M">Male</option>
					<option value="F">Female</option>
					</select>
					<label for="text-1">Date of Birth (YYYY-MM-DD):</label>
					<input type="text" name="dob" id="dob" value="">
					<label for="text-1">Phone Number:</label>
					<input type="text" name="phone" id="phone" value="">
					<label for="text-1">Address Line 1:</label>
					<input type="text" name="address1" id="address1" value="">
					<label for="text-1">City:</label>
					<input type="text" name="city" id="city" value="">
					<label for="text-1">County:</label>
					<input type="text" name="county" id="county" value="">
					<label for="text-1">Post Code:</label>
					<input type="text" name="postcode" id="postcode" value="">
					<!-- <input type="text" name="query" id="query" value="">		 -->	
					<input id="patientUploadButton" type="submit" value="Upload Record">
				</form>			

						

				<a href="index.html">Back</a>
				
				</br>
				<div data-role="popup" id="serverResponseDialog">
					<img src="images/loading2_crop4.gif">
				</div>					
					
			</article>
	</div><!-- /page -->
	
		<div data-role="page" data-theme="a" id="UploadCarePlan">

		<header data-role="header" >
			<h1>Add new care plan</h1>
		</header>
			<article data-role="content">
				<form id="carePlanUploadForm">				
					<label for="text-1">Concern:</label>
					<input type="text" id="concern" value="">
					<label for="text-1">Goal: </label><a id="addGoal" style="text-decoration: none" href=javascript:void(0);>+</a>
					<input type="text" id="goal" value="">
					<div id="goalInputDiv">
					</div>
					<label for="text-1">Activity: </label><a id="addActivity" style="text-decoration: none" href=javascript:void(0);>+</a>
					<input type="text" id="activity" value="">
					<div id="activityInputDiv">
					</div>
					<input id="carePlanUploadButton" type="submit" value="Upload Care Plan">
				</form>			

				<a href="index.html">Home</a>
				
				</br>
				<div data-role="popup" id="serverResponseDialog">
					<img src="images/loading2_crop4.gif">
				</div>					
					
			</article>
	</div><!-- /page -->

	<div data-role="page" id="PatientListPage">

		<header data-role="header">
			<h1>Search Results</h1>
		</header><!-- /header -->
		
		<div id="headerUnderBar"> 
			<div id="wardDoctor"></div>
			<div id="wardTime"></div>
		</div>
		
		<input type="text" id="searchPatients" />


				<div data-role="popup" id="serverResponseLoading">
					<img src="images/loading2_crop4.gif">
					<!-- <p>Loading...<p> -->
				</div>	
		
				<!--<ul id="patientRows">
					<li>
						<table class="tableContainer" cellspacing="0" cellpadding="0">
							<tr class="red">
								<td class="statusRed"></td>
								<td class="picture" ><img src="images/faces/faceImageTest.png"></td>
								<td class="name"><h1>BROWN, Stephen<h1> <p>14/11/1992</p> <p>1204552</p></</td>
								<td class="doctor">DR. P SMITH</td>
							</tr>
							<tr>
								<td colspan="4">
									<table class="innerTable" >
									<tr>
										<td class="detailStatusRed"></td>
										<td class="detailArrowDown"><img src="images/arrows/redArrowDown.png"></td>
										<td class="innerTableCell"><h1>discharge</h1><img src="images/dischargeStatus/one.png"></td>
										<td class="innerTableCell"><h1>VTE</h1><img src="images/alertStatus/clearStatus.png"></td>
										<td class="innerTableCell"><h1>Diabetic</h1><img src="images/alertStatus/clearStatus.png"></td>
										<td class="innerTableCell"><h1>Visitors</h1><img src="images/alertStatus/dangerStatus.png"></td>
										<td class="innerTableCell"><h1>Nil by month</h1><img src="images/alertStatus/clearStatus.png"></td>
										<td class="innerTableCell"><h1>Nut allergy</h1><img src="images/alertStatus/warningStatus.png"></td>
										<td class="innerTableCell"><h1>Nut allergy</h1><img src="images/alertStatus/clearStatus.png"></td>
									</tr>
									</table>
								</td>
							</tr>
						</table>
					</li>
					<li>
						<table class="tableContainer" cellspacing="0" cellpadding="0">
							<tr class="orange">
								<td class="status"></td>
								<td class="picture" ><img src="images/faces/faceImageTest.png"></td>
								<td class="name"><h1>WHITEBOARD, Mark<h1> <p>15/11/1992</p> <p>1245552</p></</td>
								<td class="doctor">DR. P SMITH</td>
							</tr>
						</table>
					</li>
				</ul>	-->

				<ul data-role="listview" data-inset="false" data-theme="a" id="patientRows">
				    
				</ul>
	</div><!-- /page -->
	
	
	<div data-role="page" id="DiagnosticReportPage">

		<header data-role="header">
			<h1 id="pageHeader">Diagnostic Report</h1>
		</header><!-- /header -->
		
		<div id="headerUnderBar"> 
			<div id="wardDoctor"></div>
			<div id="wardTime"></div>
		</div>	
				<ul id="reportRows">
				</ul>	
				
		<div data-role="collapsible-set" data-theme="a" data-content-theme="a" data-inset="false" id="reportCollabsibleSet">
		</div>
		
		
	</div>
	

	<div data-role="page" id="CarePlanPage">

		<header data-role="header">
			<h1 id="carePlanHeader">Care Plan</h1>
		</header><!-- /header -->
		
		<div id="headerUnderBar"> 
			<div id="wardDoctor"></div>
			<div id="wardTime"></div>
		</div>
		<ul id="carePlanRows">
		</ul>	
				
		<div data-role="collapsible-set" data-theme="a" data-content-theme="d" data-inset="false" id="carePlanCollabsibleSet">
		</div>
	</div>
	
	
	<div data-role="page" data-theme="a" id="PatientOverviewPage">

		<header data-role="header">
			<a href="" data-role="button" data-mini="true" data-inline="true" data-icon="arrow-l" data-theme="b" onclick="goBack()">Back</a>
			<h1 id="patientOverviewHeader">Patient Overview</h1>
		</header>
		
		<div id="headerUnderBar"> 
			<div id="wardDoctor">Patient Contact Details</div>
			<div id="wardTime"></div>
		</div>

		<ul id="patientOverviewRow" data-role="listview" data-theme="b">
				
		</ul>

		<div style="height: 100%; text-align:center; ">
			<p>
	    		<a href="#popupDiagnosticReport" data-role="button" data-mini="true" data-inline="true" data-icon="grid" data-theme="b" onclick="diagnosticReportClick();">Diagnostic Report</a>
	    		<div data-role="popup" id="popupDiagnosticReport">
	    			<a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
				    <p>This patient doesn't have any diagnostic reports to show.</p>
				</div>
	    		<a href="#popupCarePlan" data-role="button" data-mini="true" data-inline="true" data-icon="grid" data-theme="b" onclick="carePlanClick();">Care Plan</a>
	    		<div data-role="popup" id="popupCarePlan">
	    			<a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
				    <p>This patient doesn't have a care plan to show.</p>
				</div>
				<a href="#" data-role="button" data-mini="true" data-inline="true" data-icon="grid" data-theme="b" onclick="addCarePlan();">Add Care Plan</a>
			</p>
		</div>

<!-- 				<ul id="patientOverviewRow">

				</ul>	
			<br/>
			<a href="#UploadCarePlan">Create New Care Plan</a><br/> -->
<!-- 			<a href="#UploadDiagnosticReport">Create New Diagnostic Report</a> -->
		
	</div><!-- /page -->
	
	<script>
		$('#addGoal').click(function() {
		var uploadCarePlanForm = document.getElementById('goalInputDiv');
		var goalInputDiv = document.createElement('div');
		goalInputDiv.className = 'ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow ui-body-a';
		var goalInput = document.createElement('input');
		goalInput.id = 'goal2';             // No setAttribute required
		goalInput.type = 'text' // No setAttribute required, note it's "className" to avoid conflict with JavaScript reserved word
		goalInput.value = ''
		goalInput.className = 'ui-input-text ui-body-a';
		goalInputDiv.appendChild(goalInput);
		uploadCarePlanForm.appendChild(goalInputDiv);
		//document.body.appendChild(uploadCarePlanForm);
		//gotoCarePlanUploadPage(patientInfo);
	});
	
	$('#addActivity').click(function() {
		var addActivityDiv = document.getElementById('activityInputDiv');
		var activityInputDiv = document.createElement('div');
		activityInputDiv.className = 'ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow ui-body-a';
		var activityInput = document.createElement('input');
		// TODO: MAKE A GLOBAL VARIALBE TO HOLD THE ID NUMBER
		activityInput.id = 'activity2';             // 
		activityInput.type = 'text' // No setAttribute required, note it's "className" to avoid conflict with JavaScript reserved word
		activityInput.value = ''
		activityInput.className = 'ui-input-text ui-body-a';
		activityInputDiv.appendChild(activityInput);
		addActivityDiv.appendChild(activityInputDiv);
		//document.body.appendChild(uploadCarePlanForm);
		//gotoCarePlanUploadPage(patientInfo);
	});
	</script>
</body>
</html>